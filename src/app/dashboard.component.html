<div class="col-md-18">
  <div class="row">
    <div class="col-md-2">
      <button class="btn btn-default"
              (click)="deleteButton()">Show
        Delete
      </button>
    </div>
    <div class="col-md-8 col-md-offset-2">
      <form>
        <div class="form-group col-md-4">
          <input class="form-control"
                 autocomplete="true"
                 #appId
                 placeholder="AppId">
        </div>

        <div class="form-group col-md-4">
          <input type="text" class="form-control "
                 autocomplete="true"
                 #repoName
                 (keyup)="searchRepoWithRepoName(repoName.value)"
                 placeholder="RepoName">
        </div>

        <div class="form-group col-md-4">
          <button class="btn btn-default"
                  (click)="search(appId.value,repoName.value)">
            Search
          </button>
        </div>
        <!--<button type="submit" class="btn btn-default">Submit</button>-->
      </form>
    </div>
  </div>

  <div class="row" *ngIf="showDelete">
    <div clas="col-md-4">
      <form>
        <div class="form-group col-md-2">
          <input class="form-control"
                 autocomplete="true"
                 #appId
                 required
                 minlength="1" maxlength="24"
                 placeholder="AppId">
        </div>

        <div class="form-group col-md-2">
          <input type="text" class="form-control "
                 autocomplete="true"
                 #repoName
                 required
                 minlength="1" maxlength="24"
                 placeholder="RepoName">
        </div>

        <div class="form-group col-md-4">
          <button class="btn btn-default alert-danger"
                  (click)="deleteRepo(appId.value,repoName.value)">
            删除
          </button>
        </div>
      </form>
    </div>
  </div>

  <div class="row">
    <div class="col-md-10">
      <table
        class="table table-striped table-bordered table-hover table-responsive">
        <thead>
        <tr>
          <th>Operation</th>
          <th>AppId</th>
          <th>RepoName</th>
          <th>IndexVersion</th>
          <th>UpdateTime</th>
          <th>Retention</th>
        </tr>
        </thead>
        <tbody>
        <tr
          *ngFor="let repo of repositoryList | async ">
          <th>
            <span>
              <a
                [routerLink]="['/detail', repo.appID,repo.repoName]"
                class=" btn">Edit</a>
              <button
                class="btn btn-default"
                (click)="select(repo)">Show
              </button>
            </span>
          </th>
          <th>{{repo.appID}}</th>
          <th>{{repo.repoName}}</th>
          <th>{{repo.indexVersion}}</th>
          <th>{{repo.updateTime}}</th>
          <th>{{repo.retention}}</th>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <app-hero-detail
    [repo]="selectedRepo"></app-hero-detail>

</div>

